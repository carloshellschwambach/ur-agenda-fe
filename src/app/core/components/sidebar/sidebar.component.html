<div class="sidebar" [class.collapsed]="!isExpanded">
  <div class="sidebar-header">
    <button class="toggle-btn" (click)="toggleSidebar()" title="Expandir/Recolher">
      <span class="menu-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">
          <path fill="currentColor" d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z" />
        </svg>
      </span>
    </button>
    @if (isExpanded) {
      <h1 class="logo">UrAgenda</h1>
    }
  </div>

  <nav class="sidebar-nav">
    <ul class="nav-list">
      <li class="nav-item" (click)="navigateTo('/appointments')">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">
            <path fill="currentColor"
              d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H5V9h14v9z" />
            </svg>
          </span>
          @if (isExpanded) {
            <span class="nav-text">Agendamentos</span>
          }
        </li>
        <li class="nav-item" (click)="navigateTo('/customers')">
          <span class="nav-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">
              <path fill="currentColor"
                d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zM8 11c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V20h14v-3.5C15 14.17 10.33 13 8 13zm8 0c-.29 0-.62.02-.97.05C16.99 13.37 18 14.61 18 16v4h4v-3.5C22 14.17 17.33 13 16 13z" />
              </svg>
            </span>
            @if (isExpanded) {
              <span class="nav-text">Clientes</span>
            }
          </li>

        </ul>
      </nav>

      @if (user) {
        <div class="sidebar-footer">
          <app-theme-toggle></app-theme-toggle>
          <div class="settings-item" (click)="navigateTo('/settings')" title="Configurações">
            <span class="nav-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">
                <path fill="currentColor"
                  d="M19.14 12.94c.04-.31.07-.63.07-.94s-.03-.63-.07-.94l2.03-1.58a.5.5 0 00.12-.64l-1.92-3.32a.5.5 0 00-.6-.22l-2.39.96a7.03 7.03 0 00-1.6-.94l-.36-2.54A.5.5 0 0013.5 2h-3a.5.5 0 00-.5.43l-.36 2.54c-.56.22-1.08.52-1.6.94l-2.39-.96a.5.5 0 00-.6.22L2.7 9.48a.5.5 0 00.12.64L4.85 11.7c-.05.31-.08.63-.08.95s.03.64.08.95L2.82 15.18a.5.5 0 00-.12.64l1.92 3.32c.14.24.43.34.68.24l2.39-.96c.5.43 1.04.78 1.6.94l.36 2.54c.04.26.25.44.5.44h3c.26 0 .46-.19.5-.44l.36-2.54c.56-.22 1.08-.52 1.6-.94l2.39.96c.25.1.54 0 .68-.24l1.92-3.32a.5.5 0 00-.12-.64l-2.03-1.58zM12 15.5A3.5 3.5 0 1115.5 12 3.5 3.5 0 0112 15.5z" />
                </svg>
              </span>
              @if (isExpanded) {
                <span class="nav-text">Configurações</span>
              }
            </div>
            <div class="user-info" (click)="navigateTo('/profile')" title="Meu Perfil">
              <div class="user-avatar">{{ user.name.charAt(0).toUpperCase() }}</div>
              @if (isExpanded) {
                <div class="user-details">
                  <p class="user-name">{{ user.name }}</p>
                  <p class="user-email">{{ user.email }}</p>
                </div>
              }
            </div>
            <button class="logout-btn" (click)="logout()" title="Sair">
              <span class="logout-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">
                  <path fill="currentColor" d="M16 13v-2H7V8l-5 4 5 4v-3zM20 3h-8v2h8v14h-8v2h8a2 2 0 002-2V5a2 2 0 00-2-2z" />
                </svg>
              </span>
              @if (isExpanded) {
                <span>Sair</span>
              }
            </button>
          </div>
        }
      </div>